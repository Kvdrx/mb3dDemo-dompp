!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.dompp=t():e.dompp=t()}(self,(function(){return(()=>{var e={323:(e,t,r)=>{var n=r(176);e.exports=dataTree={create:function(){return new n}}},657:e=>{e.exports=function(){"use strict";function e(e){if(!e)throw new Error("Could not find a tree that is to be traversed");this._tree=e}return e.prototype.searchDFS=function(e){var t=null;return function r(n){if(n.matchCriteria(e))return t=n;n._childNodes.some(r)}(this._tree._rootNode),t},e.prototype.searchBFS=function(e){var t=null;return function(r){for(;r.length;){var n=r.splice(0,1)[0];if(n.matchCriteria(e))return void(t=n);n._childNodes.forEach((function(e){r.push(e)}))}}([this._tree._rootNode]),t},e.prototype.traverseDFS=function(e){!function t(r){e(r),r._childNodes.forEach(t)}(this._tree._rootNode)},e.prototype.traverseBFS=function(e){!function(t){for(;t.length;){var r=t.splice(0,1)[0];e(r),r._childNodes.forEach((function(e){t.push(e)}))}}([this._tree._rootNode])},e}()},958:e=>{e.exports=function(){"use strict";function e(e){this._parentNode=null,this._childNodes=[],this._data=e,this._depth=-1}return e.prototype.parentNode=function(){return this._parentNode},e.prototype.childNodes=function(){return this._childNodes},e.prototype.data=function(e){if(!(arguments.length>0))return this._data;this._data=e},e.prototype.depth=function(){return this._depth},e.prototype.matchCriteria=function(e){return e(this._data)},e.prototype.siblings=function(){var e=this;return this._parentNode?this._parentNode._childNodes.filter((function(t){return t!==e})):[]},e.prototype.distanceToRoot=function(){for(var e=0,t=this;t.parentNode();)e++,t=t.parentNode();return e},e.prototype.getAncestry=function(){for(var e=[this],t=this;t.parentNode();)e.push(t.parentNode()),t=t.parentNode();return e},e.prototype.export=function(e){if(!e||"function"!=typeof e)throw new Error("Export criteria not specified");var t=function(r){var n=r.matchCriteria(e);if(n&&"object"==typeof n)return n.children=[],r._childNodes.forEach((function(e){n.children.push(t(e))})),n;throw new Error("Export criteria should always return an object and it cannot be null.")};return t(this)},e}()},176:(e,t,r)=>{var n=r(958),s=r(657);e.exports=function(){"use strict";function e(){this._rootNode=null,this._currentNode=null,this._traverser=new s(this)}return e.prototype.rootNode=function(){return this._rootNode},e.prototype.currentNode=function(){return this._currentNode},e.prototype.traverser=function(){return this._traverser},e.prototype.isEmpty=function(){return null===this._rootNode&&null===this._currentNode},e.prototype.pruneAllNodes=function(){return this._rootNode&&this._currentNode&&this.trimBranchFrom(this._rootNode),this},e.prototype.insert=function(e){var t=new n(e);return null===this._rootNode&&null===this._currentNode?(t._depth=1,this._rootNode=this._currentNode=t):(t._parentNode=this._currentNode,this._currentNode._childNodes.push(t),this._currentNode=t,t.depth=t._parentNode._depth+1),t},e.prototype.remove=function(e,t){t||e===this._rootNode?this.trimBranchFrom(e):(e._childNodes.forEach((function(t){t._parentNode=e._parentNode,e._parentNode._childNodes.push(t)})),e._parentNode._childNodes.splice(e._parentNode._childNodes.indexOf(e),1),this._currentNode=e._parentNode,e._childNodes=[],e._parentNode=null,e._data=null)},e.prototype.trimBranchFrom=function(e){var t=this;!function e(t){t._childNodes.forEach(e),t._childNodes=[],t._data=null}(e),e._parentNode?(e._parentNode._childNodes.splice(e._parentNode._childNodes.indexOf(e),1),t._currentNode=e._parentNode):t._rootNode=t._currentNode=null},e.prototype.insertTo=function(e,t){var r=this.traverser().searchDFS(e);return this.insertToNode(r,t)},e.prototype.insertToNode=function(e,t){var r=new n(t);return r._parentNode=e,r._depth=r._parentNode._depth+1,e._childNodes.push(r),this._currentNode=r,r},e.prototype.distanceBetween=function(e,t){return e.distanceToRoot()+t.distanceToRoot()-2*this.findCommonParent(e,t).distanceToRoot()},e.prototype.findCommonParent=function(e,t){var r=e.getAncestry(),n=t.getAncestry(),s=null;return r.some((function(e){if(-1!==n.indexOf(e))return s=e,!0})),s},e.prototype.export=function(e){return this._rootNode?this._rootNode.export(e):null},e.prototype.compress=function(t){if(!t||"function"!=typeof t)throw new Error("Compress criteria not specified");if(this.isEmpty())return null;var r=new e,n=this;return function e(s,i){n.rootNode()===s||s.matchCriteria(t)?i=r.isEmpty()?r.insert(s.data()):r.insertToNode(i,s.data()):i._data.hasCompressedNodes=!0,s.childNodes().forEach((function(t){e(t,i)}))}(this.rootNode(),null),r},e.prototype.import=function(e,t,r){this._rootNode&&this.trimBranchFrom(this._rootNode),this._currentNode=this._rootNode=null;var n=this;return function e(s,i){var o=r(i);s=s?n.insertToNode(s,o):n.insert(o),i[t].forEach((function(t){e(s,t)}))}(this._rootNode,e),this._currentNode=this._rootNode,this},e}()}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{"use strict";r.r(n),r.d(n,{AbstractFunction:()=>N,Addition:()=>$,All:()=>f,And:()=>st,AndNode:()=>D,Argument:()=>se,ArgumentValue:()=>ie,AtomicFunction:()=>C,AtomicFunctionReturnValue:()=>O,BackgroundColor:()=>Ee,BackgroundImage:()=>He,BooleanAnd:()=>A,BooleanNot:()=>E,BooleanOr:()=>j,BorderColor:()=>ke,BorderRadius:()=>Me,BorderStyle:()=>$e,BorderWidth:()=>ze,ClientOffsetLeft:()=>Se,ClientOffsetTop:()=>Oe,Color:()=>Ae,ComposedFunction:()=>K,ComposedFunctionValue:()=>ee,CompoundDesignator:()=>g,ConstantDesignator:()=>w,ConstantFunction:()=>V,ConstantValue:()=>y,CssPropertyFunction:()=>we,CssRecursivePropertyFunction:()=>Ne,Current:()=>xt,CurrentNode:()=>tt,DesignatedObject:()=>L,Designator:()=>h,DimensionHeight:()=>be,DimensionWidth:()=>xe,Display:()=>Qe,Division:()=>Q,ElementAttribute:()=>me,ElementAttributeValue:()=>ye,Enumerate:()=>Z,EnumeratedValue:()=>Y,Equals:()=>yt,ExistentialQuantifier:()=>ge,Exists:()=>lt,Explainer:()=>W,Find:()=>ft,FindBySelector:()=>Ke,Float:()=>Ue,FontFamily:()=>Fe,FontSize:()=>_e,FontWeight:()=>Te,ForAll:()=>at,FunctionNamedArgument:()=>ne,GreaterOrEqual:()=>U,GreaterThan:()=>J,Height:()=>mt,Identity:()=>S,Implies:()=>ot,InputArgument:()=>b,IsEqualTo:()=>z,IsGreaterOrEqual:()=>ht,IsGreaterThan:()=>ct,IsLessOrEqual:()=>pt,IsLessThan:()=>dt,LesserOrEqual:()=>H,LesserThan:()=>G,MarginBottom:()=>Pe,MarginLeft:()=>De,MarginRight:()=>Ie,MarginTop:()=>qe,Minus:()=>Nt,Multiplication:()=>M,NamedArgument:()=>te,NamedArgumentValue:()=>re,NaryConjunctiveVerdict:()=>F,NaryDisjunctiveVerdict:()=>T,NaryValue:()=>m,NodeWrapper:()=>et,Not:()=>ut,Nothing:()=>d,NthItem:()=>X,ObjectNode:()=>B,Opacity:()=>je,Or:()=>it,OrNode:()=>I,PaddingBottom:()=>Be,PaddingLeft:()=>Le,PaddingRight:()=>We,PaddingTop:()=>Re,PageOffsetLeft:()=>Ce,PageOffsetTop:()=>Ve,Path:()=>Ye,PathValue:()=>Xe,Plus:()=>wt,Position:()=>Ge,Quantifier:()=>ce,QuantifierConjunctiveVerdict:()=>pe,QuantifierDisjunctiveVerdict:()=>de,QuantifierVerdict:()=>he,Register:()=>gt,RegisterBySelector:()=>rt,ReturnValue:()=>x,Serialization:()=>nt,Subtraction:()=>k,TestCondition:()=>ue,TestDriver:()=>oe,TestResult:()=>le,Tracer:()=>q,UniversalQuantifier:()=>fe,Unknown:()=>p,UnknownNode:()=>R,Value:()=>v,Verdict:()=>ae,Visibility:()=>Je,WebElementFunction:()=>ve,Width:()=>vt,Zindex:()=>Ze,deserializeArray:()=>St,evaluateDom:()=>bt,getTreeFromWitness:()=>Ct,getVerdict:()=>Vt,serializeArray:()=>Ot});var e={};r.r(e),r.d(e,{AbstractFunction:()=>N,Addition:()=>$,All:()=>f,And:()=>st,AndNode:()=>D,Argument:()=>se,ArgumentValue:()=>ie,AtomicFunction:()=>C,AtomicFunctionReturnValue:()=>O,BackgroundColor:()=>Ee,BackgroundImage:()=>He,BooleanAnd:()=>A,BooleanNot:()=>E,BooleanOr:()=>j,BorderColor:()=>ke,BorderRadius:()=>Me,BorderStyle:()=>$e,BorderWidth:()=>ze,ClientOffsetLeft:()=>Se,ClientOffsetTop:()=>Oe,Color:()=>Ae,ComposedFunction:()=>K,ComposedFunctionValue:()=>ee,CompoundDesignator:()=>g,ConstantDesignator:()=>w,ConstantFunction:()=>V,ConstantValue:()=>y,CssPropertyFunction:()=>we,CssRecursivePropertyFunction:()=>Ne,Current:()=>xt,CurrentNode:()=>tt,DesignatedObject:()=>L,Designator:()=>h,DimensionHeight:()=>be,DimensionWidth:()=>xe,Display:()=>Qe,Division:()=>Q,ElementAttribute:()=>me,ElementAttributeValue:()=>ye,Enumerate:()=>Z,EnumeratedValue:()=>Y,Equals:()=>yt,ExistentialQuantifier:()=>ge,Exists:()=>lt,Explainer:()=>W,Find:()=>ft,FindBySelector:()=>Ke,Float:()=>Ue,FontFamily:()=>Fe,FontSize:()=>_e,FontWeight:()=>Te,ForAll:()=>at,FunctionNamedArgument:()=>ne,GreaterOrEqual:()=>U,GreaterThan:()=>J,Height:()=>mt,Identity:()=>S,Implies:()=>ot,InputArgument:()=>b,IsEqualTo:()=>z,IsGreaterOrEqual:()=>ht,IsGreaterThan:()=>ct,IsLessOrEqual:()=>pt,IsLessThan:()=>dt,LesserOrEqual:()=>H,LesserThan:()=>G,MarginBottom:()=>Pe,MarginLeft:()=>De,MarginRight:()=>Ie,MarginTop:()=>qe,Minus:()=>Nt,Multiplication:()=>M,NamedArgument:()=>te,NamedArgumentValue:()=>re,NaryConjunctiveVerdict:()=>F,NaryDisjunctiveVerdict:()=>T,NaryValue:()=>m,NodeWrapper:()=>et,Not:()=>ut,Nothing:()=>d,NthItem:()=>X,ObjectNode:()=>B,Opacity:()=>je,Or:()=>it,OrNode:()=>I,PaddingBottom:()=>Be,PaddingLeft:()=>Le,PaddingRight:()=>We,PaddingTop:()=>Re,PageOffsetLeft:()=>Ce,PageOffsetTop:()=>Ve,Path:()=>Ye,PathValue:()=>Xe,Plus:()=>wt,Position:()=>Ge,Quantifier:()=>ce,QuantifierConjunctiveVerdict:()=>pe,QuantifierDisjunctiveVerdict:()=>de,QuantifierVerdict:()=>he,Register:()=>gt,RegisterBySelector:()=>rt,ReturnValue:()=>x,Serialization:()=>nt,Subtraction:()=>k,TestCondition:()=>ue,TestDriver:()=>oe,TestResult:()=>le,Tracer:()=>q,UniversalQuantifier:()=>fe,Unknown:()=>p,UnknownNode:()=>R,Value:()=>v,Verdict:()=>ae,Visibility:()=>Je,WebElementFunction:()=>ve,Width:()=>vt,Zindex:()=>Ze,deserializeArray:()=>St,evaluateDom:()=>bt,getTreeFromWitness:()=>Ct,getVerdict:()=>Vt,serializeArray:()=>Ot});var t,s,i,o=r(323);function u(e,t){return null==e&&null==t||!(null==e&&null!=t||null!=e&&null==t)&&("function"==typeof e.equals?e.equals(t):e===t)}function a(e,t){for(var r=0;r<e.length;r++)if(u(e[r],t))return!0;return!1}function l(e){if("object"!=typeof e)return!1;for(;""!==e.constructor.name&&"Object"!==e.constructor.name;){if("HTMLElement"===(e.name||e.constructor.name))return!0;e=Object.getPrototypeOf(e.constructor)}return!1}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class h{constructor(){}head(){return this}tail(){return null}equals(e){return null!=e&&e instanceof h&&e==this}}class d extends h{constructor(){super()}toString(){return"Nothing"}equals(e){return null!=e&&e instanceof d}}c(d,"instance",new d);class p extends h{constructor(){super()}toString(){return"Unknown"}equals(e){return null!=e&&e instanceof p}}c(p,"instance",new p);class f extends h{constructor(){super()}toString(){return"All"}equals(e){return null!=e&&e instanceof f}}c(f,"instance",new f);class g extends h{static create(){if(0==arguments.length)return d.instance;for(var e=[],t=0;t<arguments.length;t++)null!=arguments[t]&&(arguments[t]instanceof g?e.push(...arguments[t].elements):e.push(arguments[t]));return 0==e.length?d.instance:1==e.length?e[0]:new g(...e)}constructor(){super(),this.elements=[];for(var e=0;e<arguments.length;e++)this.add(arguments[e])}add(e){if(null!=e)if(e instanceof g)for(var t=0;t<e.elements.length;t++)this.add(e.elements[t]);else this.elements.push(e)}size(){return this.elements.length}head(){return 0==this.elements.length?new d:this.elements[this.elements.length-1]}tail(){if(this.elements.length<=1)return null;if(2==this.elements.length)return this.elements[0];for(var e=new g,t=0;t<this.elements.length-1;t++)e.add(this.elements[t]);return e}toString(){for(var e="",t=0;t<this.elements.length;t++)t>0&&(e+=" of "),e+=this.elements[t].toString();return e}equals(e){if(null==e||!(e instanceof g))return!1;if(e.size()!=this.size())return!1;for(var t=0;t<this.elements.length;t++)if(!u(this.elements[t],e.elements[t]))return!1;return!0}}class v{getValue(){return null}query(e,t,r,n){}static deserialize(e,t){const r=[];for(const s of t.contents)if("object"==typeof s&&2==Object.keys(s).length&&void 0!==s.name&&void 0!==s.contents)r.push(e.deserialize(s));else if(Array.isArray(s)){for(var n=0;n<s.length;n++)"object"==typeof s[n]&&2==Object.keys(s[n]).length&&void 0!==s[n].name&&void 0!==s[n].contents&&(s[n]=e.deserialize(s[n]));r.push(s)}else r.push(s);return new this(...r)}toJson(){const e=[];for(var t of this.members)if("object"==typeof t&&v.isPrototypeOf(t.constructor))e.push(t.toJson());else if(Array.isArray(t)){for(var r=0;r<t.length;r++)"object"==typeof t[r]&&v.isPrototypeOf(t[r].constructor)&&(t[r]=t[r].toJson());e.push(t)}else e.push(t);return{name:this.constructor.name,contents:e}}static lift(e){return e instanceof v?e:new y(e)}}class m extends v{constructor(e,t=[],r=[]){super(),this.value=e,this.values=t,this.positions=r}getValue(){return this.value}}class y extends v{constructor(e){super(),this.value=e,this.members=[e]}query(e,t,r,n){var s=[],i=g.create(t,new w),o=n.getObjectNode(i,this.value);return r.addChild(o),s.push(o),s}getValue(){return this.value}toString(){return this.value.toString()}equals(e){return null!=e&&e instanceof v&&e.getValue()===this.value}}class w extends h{toString(){return"Value"}}class N{constructor(){this.members=[]}static lift(e){return e instanceof N?e:new V(v.lift(e))}evaluate(){return null}setTo(e,t){}getArity(){return 0}equals(e){return null!=e&&e instanceof N&&e==this}static deserialize(e,t){const r=[];for(const n of t.contents)"object"==typeof n&&2==Object.keys(n).length&&void 0!==n.name&&void 0!==n.contents?r.push(e.deserialize(n)):r.push(n);return new this(...r)}toJson(){const e=[];for(const t of this.members)"object"==typeof t&&N.isPrototypeOf(t.constructor)?e.push(t.toJson()):e.push(t);return{name:this.constructor.name,contents:e}}}class x extends h{constructor(){super()}toString(){return"!"}equals(e){return null!=e&&e instanceof x}}t=x,s="instance",i=new x,s in t?Object.defineProperty(t,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[s]=i;class b extends h{constructor(e){super(),this.index=e}getIndex(){return this.index}toString(){return"@"+this.index}equals(e){return null!=e&&e instanceof b&&e.getIndex()==this.index}}class V extends N{constructor(e){super(),this.members=[e],this.value=v.lift(e)}evaluate(){return this.value}getArity(){return 0}set(e,t){return this}}class C extends N{constructor(e){super(),this.arity=e}evaluate(){for(var e=[],t=0;t<arguments.length;t++)e[t]=v.lift(arguments[t]);return this.compute(...e)}compute(){if(arguments.length!==this.arity)throw"Invalid number of arguments";for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t].getValue());var r=this.getValue(...e);return r instanceof v?r:new O(this,r,...arguments)}getValue(){return null}set(){return this}}class O extends v{constructor(){super(),this.referenceFunction=arguments[0],this.outputValue=arguments[1],this.inputValues=[];for(var e=2;e<arguments.length;e++)this.inputValues.push(arguments[e])}getValue(){return this.outputValue}toString(){return this.outputValue.toString()}query(e,t,r,n){for(var s=[],i=n.getAndNode(),o=0;o<this.inputValues.length;o++)if(null!==this.inputValues[o]){var u,a=g.create(t.tail(),new b(o)),l=n.getObjectNode(a,this.referenceFunction);u=this.inputValues[o].query(e,x.instance,l,n),s.push(...u),i.addChild(l)}var c=n.getObjectNode(t,this.referenceFunction);return 1===i.getChildren().length?c.addChild(i.getChildren()[0]):c.addChild(i),r.addChild(c),s}}class S extends C{constructor(){super(1)}getValue(){return arguments[0]}}class _ extends C{constructor(){super("arity")}compute(){for(var e=[],t=[],r=[],n=[],s=0;s<arguments.length;s++){var i=arguments[s].getValue();if("boolean"!=typeof i)throw"BooleanConnective: Invalid argument type";!0===i?(r.push(arguments[s]),n.push(s)):(e.push(arguments[s]),t.push(s))}return this.getBooleanValue(e,r,t,n)}}class T extends m{query(e,t,r,n){for(var s=[],i=n.getOrNode(),o=0;o<this.values.length;o++){var u,a=g.create(t.tail(),new b(this.positions[o])),l=n.getObjectNode(a,this.referenceFunction);u=this.values[o].query(e,x.instance,l,n),s.push(...u),i.addChild(l)}return 1===i.getChildren().length?r.addChild(i.getChildren()[0]):r.addChild(i),s}}class F extends m{constructor(e,t=[],r=[]){super(e,t,r)}query(e,t,r,n){for(var s=[],i=n.getAndNode(),o=0;o<this.values.length;o++){var u,a=g.create(t.tail(),new b(this.positions[o])),l=n.getObjectNode(a,this.referenceFunction);u=this.values[o].query(e,x.instance,l,n),s.push(...u),i.addChild(l)}return 1===i.getChildren().length?r.addChild(i.getChildren()[0]):r.addChild(i),s}}class A extends _{constructor(e=2){super(e)}getBooleanValue(e=[],t=[],r=[],n=[]){return 0===e.length?new F(!0,t,n):new T(!1,e,r)}toString(){return"And"}}class j extends _{constructor(e=2){super(e)}getBooleanValue(e=[],t=[],r=[],n=[]){return 0===t.length?new F(!1,e,r):new T(!0,t,n)}toString(){return"Or"}}class E extends C{constructor(){super(1)}getValue(){if("boolean"!=typeof arguments[0])throw"BooleanNot: Invalid argument type";return!arguments[0]}toString(){return"Not"}}class q{constructor(){this.nodes=new Map,this.tracerContext=[],arguments.length>0&&(this.tracerContext=arguments),this.simplify=!0}setSimplify(e){this.simplify=e}getObjectNode(e,t){if(e instanceof L)var r=e;else r=new L(e,t);if(function(e,t){for(const[r]of e)if(u(r,t))return!0;return!1}(this.nodes,r))return function(e,t){for(const[r,n]of e)if(r.equals(t))return n;return null}(this.nodes,r);var n=new B(r);return function(e,t,r){for(const[n]of e)if(u(n,t))return void e.set(n,r);e.set(t,r)}(this.nodes,r,n),n}getAndNode(){return new D}getOrNode(){return new I}getUnknownNode(){return new R}getSubTracer(e){var t=[];return t.push(...this.tracerContext),t.push(e),new q(...t)}getTree(e,t,r){var n=this.getObjectNode(t,r);return this.getChildren(e,n,[]),n}getChildren(e,t,r){if(!a(r,t)&&(r.push(t),t instanceof B)){var n=t.getDesignatedObject(),s=n.getObject(),i=n.getDesignator();if(!(i instanceof f||i instanceof d||i instanceof p)&&"function"==typeof s.query)for(var o=s.query(e,i,t,this),u=0;u<o.length;u++)this.getChildren(e,o[u],r)}}}class P{constructor(){this.id=P.TN_ID_COUNTER++,this.children=[]}getId(){return this.id}addChild(e){e!=this&&this.children.push(e)}getChildren(){return this.children}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:0,enumerable:!0,configurable:!0,writable:!0}):e[t]=0}(P,"TN_ID_COUNTER");class D extends P{constructor(){super()}toString(){var e="";1==arguments.length&&(e=arguments[0]);var t="";t+=e+"^\n";for(var r=0;r<this.children.length;r++)t+=e+this.children[r].toString(e+" ");return t}addChild(e){if(e instanceof D)for(var t=0;t<e.children.length;t++)this.children.push(e.children[t]);else this.children.push(e)}}class I extends P{constructor(){super()}toString(){var e="";1==arguments.length&&(e=arguments[0]);var t="";t+=e+"v\n";for(var r=0;r<this.children.length;r++)t+=e+this.children[r].toString(e+" ");return t}addChild(e){if(e instanceof I)for(var t=0;t<e.children.length;t++)this.children.push(e.children[t]);else this.children.push(e)}}class R extends P{constructor(){super()}toString(){return"?"}}class B extends P{constructor(e,t){super(),this.designatedObject=e instanceof L?e:new L(e,t)}getDesignatedObject(){return this.designatedObject}toString(){return this.designatedObject.toString()}}class L{constructor(e,t,r){this.designator=e,this.object=t,this.context=arguments.length>=3?r:[]}getDesignator(){return this.designator}getObject(){return this.object}getContext(){return this.context}equals(e){return null!=e&&e instanceof L&&(null==this.object&&null==e.object||null!=this.object&&u(this.object,e.object))&&this.designator.equals(e.designator)&&this.sameContext(e)}sameContext(e){if(this.context.length!=e.context.length)return!1;for(var t=0;t<this.context.length;t++)if(this.context[t]!=e.context[t])return!1;return!0}toString(){return this.designator.toString()+" of "+this.object.toString()}}class W{constructor(){}static explain(e,t=!0){var r=new q;return r.setSimplify(t),r.getTree(null,x.instance,e)}}class z extends C{constructor(){super(2)}getValue(){var e=arguments[0],t=arguments[1];return null==e&&null==t||!(null==e&&null!=t||null!=e&&null==t)&&("number"==typeof e&&"number"==typeof t||"string"==typeof e&&"string"==typeof t)&&e===t}}class $ extends C{constructor(e=2){super(e)}getValue(){for(var e=0,t=0;t<this.arity;t++){var r=arguments[t];if("number"!=typeof r)throw"Invalid argument type";e+=r}return e}toString(){return"Addition"}}class k extends C{constructor(e=3){super(e)}getValue(){for(var e=arguments[0],t=1;t<arguments.length;t++){var r=arguments[t];if("number"!=typeof r)throw"Invalid argument type";e-=r}return e}toString(){return"Subtraction"}}class M extends C{constructor(e=2){super(e)}compute(){if(arguments.length!==this.arity)throw"Invalid number of arguments";for(var e=[],t=[],r=1,n=0;n<this.arity;n++){var s=arguments[n].getValue();if("number"!=typeof s)throw"Invalid argument type";0===s?(e.push(arguments[n]),t.push(n)):r*=s}return this.getZeroValue(e,t,r)}getZeroValue(e=[],t=[],r=null){return 0===e.length?r:parseFloat(e)}toString(){return"Multiplication"}}class Q extends C{constructor(e=2){super(e)}getValue(){for(var e=arguments[0],t=1;t<arguments.length;t++){var r=arguments[t];if("number"!=typeof r)throw"Invalid argument type";e/=r}return e}toString(){return"Division"}}class J extends C{constructor(){super(2)}getValue(){var e=arguments[0],t=arguments[1];if("number"!=typeof e||"number"!=typeof t)throw new Error(`Invalid argument type. GreaterThan expects both arguments to be numbers, but the following were received instead: ${typeof e} (${JSON.stringify(e)}) and ${typeof t} (${JSON.stringify(t)}).`);return e>t}toString(){return"&gt;"}}class G extends C{constructor(){super(2)}getValue(){var e=arguments[0],t=arguments[1];if("number"!=typeof e||"number"!=typeof t)throw new Error(`Invalid argument type. LesserThan expects both arguments to be numbers, but the following were received instead: ${typeof e} (${JSON.stringify(e)}) and ${typeof t} (${JSON.stringify(t)}).`);return e<t}toString(){return"&lt;"}}class U extends C{constructor(){super(2)}getValue(){var e=arguments[0],t=arguments[1];if("number"!=typeof e||"number"!=typeof t)throw new Error(`Invalid argument type. GreaterOrEqual expects both arguments to be numbers, but the following were received instead: ${typeof e} (${JSON.stringify(e)}) and ${typeof t} (${JSON.stringify(t)}).`);return e>=t}toString(){return"&ge;"}}class H extends C{constructor(){super(2)}getValue(){var e=arguments[0],t=arguments[1];if("number"!=typeof e||"number"!=typeof t)throw new Error(`Invalid argument type. LesserOrEqual expects both arguments to be numbers, but the following were received instead: ${typeof e} (${JSON.stringify(e)}) and ${typeof t} (${JSON.stringify(t)}).`);return e<=t}toString(){return"&le;"}}class Z extends C{constructor(){super(1)}compute(){var e=arguments[0].getValue();if(!Array.isArray(e))throw"Enumerate: Invalid argument type";for(var t=[],r=[],n=0;n<e.length;n++)t.push(v.lift(e[n]));for(let n=0;n<e.length;n++)r.push(new Y(n,t));return new O(this,r,...arguments)}getValue(){return null}}class Y extends v{constructor(e,t){super(),this.index=e,this.inputList=t,this.members=[e,t]}query(e,t,r,n){var s=[],i=g.create(t.tail(),new X(this.index)),o=n.getObjectNode(i,this.inputList);r.addChild(o);var u=this.inputList[this.index].query(e,i,o,n);return s.push(...u),s}getValue(){return this.inputList[this.index].getValue()}toString(){return this.inputList[this.index].getValue().toString()}equals(e){return null!=e&&e instanceof Y&&this.index===e.index&&this.inputList===e.inputList}}class X extends h{constructor(e){super(),this.index=e}appliesTo(e){return Array.isArray(e)}getIndex(){return this.index}toString(){return"Element #"+(this.index+1)}}class K extends N{constructor(e,...t){super(),this.members=[e,...t],this.operator=e,this.operands=[];for(var r=0;r<t.length;r++)if("string"==typeof t[r]){var n=t[r];if(n.startsWith("@")){var s=n.substring(1).trim();this.operands.push(new se(s));continue}if(n.startsWith("$")){this.operands.push(new te(this,n.substring(1).trim()));continue}}else this.operands.push(N.lift(t[r]))}setName(e){return this.name=e,this}set(e,t){for(var r=new K(this.operator),n=[],s=0;s<this.operands.length;s++)n.push(this.operands[s].set(e,t));return r.operands=n,r}getArity(){var e=[];return this.getArguments(e),e.length}getArguments(e){for(var t=0;t<this.operands.length;t++){var r=this.operands[t];r instanceof K&&r.getArguments(e),r instanceof se&&e.push(r.index),r instanceof te&&e.push(t)}}evaluate(){for(var e=[],t=0;t<this.operands.length;t++)e.push(this.operands[t].evaluate(...arguments));var r=this.operator.evaluate(...e);return new ee(this,r,...e)}toString(){return null!=this.name?this.name:"F("+this.operator.toString()+")"}}class ee extends v{constructor(e,t,...r){super(),this.referenceFunction=e,this.inputValues=r,this.returnValue=t}query(e,t,r,n){var s=[];if(!(t.head()instanceof x))return s;for(var i=g.create(x.instance,t.tail()),o=n.getObjectNode(i,this.referenceFunction.operator),u=this.returnValue.query(e,t,o,n),a=[],l=0;l<u.length;l++){var c=u[l];if(c instanceof B){var h=c.getDesignatedObject().getDesignator();if(h.head()instanceof b){var d=h.head().getIndex();a.push(...this.inputValues[d].query(e,i,c,n));continue}}a.push(c)}return s.push(...a),r.addChild(o),s}getValue(){return this.returnValue.getValue()}toString(){return this.returnValue.toString()}}class te extends N{constructor(e,t){super(),this.name=t,this.value=null,this.referenceFunction=e,this.isSet=!1}set(e,t){return this.name!==e&&"$"+this.name!==e||(this.value=v.lift(t)),this.isSet=!0,this}evaluate(){if(this.isSet)return new re(this.name,this.value);for(var e=0;e<this.referenceFunction.operands.length;e++)if(this.referenceFunction.operands[e]instanceof te&&this.name===this.referenceFunction.operands[e].getName())return new re(this.name,v.lift(arguments[e]));return new re(this.name,this.value)}toString(){return"$"+this.name}getArity(){return 0}getName(){return this.name}}class re extends v{constructor(e,t){super(),this.value=t,this.name=e}query(e,t,r,n){var s=[],i=g.create(t.tail(),new ne(this.name,this.value)),o=n.getObjectNode(i,this.value),u=this.value.query(e,t,o,n);return s.push(...u),r.addChild(o),s}getValue(){return this.value.getValue()}toString(){return this.value.getValue().toString()}}class ne extends h{constructor(e,t){super(),this.name=e,this.value=t}appliesTo(e){return e instanceof Function}head(){return this}tail(){return null}toString(){return"$"+this.name+"/"+this.value}}class se extends N{constructor(e){super(),this.index=e}set(e,t){return this}evaluate(){var e=v.lift(arguments[this.index]);return new ie(this,e,this.index)}toString(){return"@"+this.index}}class ie extends v{constructor(e,t,r){super(),this.value=t,this.index=r,this.referenceFunction=e}query(e,t,r,n){var s=[],i=g.create(t.tail(),new b(this.index,this.value)),o=n.getObjectNode(i,this.value),u=this.value.query(e,t,o,n);return s.push(...u),r.addChild(o),s}getValue(){return this.value.getValue()}}class oe{constructor(){this.conditions=[],arguments.length>0&&(this.conditions=arguments),this.returnedValues=[]}add(){this.conditions.push(...arguments)}evaluateAll(e){this.returnedValues=[];for(var t=0;t<this.conditions.length;t++){var r=this.conditions[t].evaluate(e);this.returnedValues.push(r)}}getResult(){for(var e=[],t=0;t<this.conditions.length;t++)e.push(new ae(this.returnedValues[t],this.conditions[t]));return new le(...e)}}class ue{constructor(e,t){this.name=e,this.function=t}getName(){return this.name}evaluate(e){return this.function.evaluate(e)}}class ae{constructor(e,t){this.value=e,this.condition=t}getCondition(){return this.condition}getValue(){return this.value}getResult(){return!!this.value.getValue()}getWitness(){var e=[],t=W.explain(this.value);return ae.pick(t,e),e}static pick(e,t,r=[]){if(!a(r,e))if(r.push(e),e instanceof D)for(var n=0;n<e.getChildren().length;n++)ae.pick(e.getChildren()[n],t,r);else if(e instanceof I)for(var s=!0;s;)ae.pick(e.getChildren()[n],t,r),s=!1;else if(e instanceof B)if(0===e.getChildren().length)t.push(e.getDesignatedObject());else for(let n=0;n<e.getChildren().length;n++)ae.pick(e.getChildren()[n],t,r)}}class le{constructor(){this.verdicts=arguments}getVerdicts(){return this.verdicts}getResult(){for(var e=0;e<this.verdicts.length;e++)if(!this.verdicts[e].getResult())return!1;return!0}}class ce extends N{constructor(e,t,r){super(),"number"==typeof e?this.index=e:this.variable=e,this.domain=t,this.phi=r,this.members=[e,t,r]}getArity(){return 1}evaluate(){if(1!==arguments.length)throw"Invalid number of arguments";var e=[],t=[],r=this.domain.evaluate(...arguments).getValue();if(!Array.isArray(r))throw"Domain expression does not return a list";for(var n=r,s=0;s<n.length;s++){var i=v.lift(n[s]),o=this.phi.set(this.variable,i).evaluate(...arguments),u=o.getValue();if("boolean"!=typeof u)throw"Invalid argument type";u?e.push({value:i,verdict:o}):t.push({value:i,verdict:o})}return this.getQuantifierValue(t,e)}getQuantifierValue(e,t){return null}}class he extends v{constructor(e,t,r){super(),this.value=t,this.verdicts=r,this.referenceFunction=e}getValue(){return this.value}toString(){return this.value.toString()}}class de extends he{query(e,t,r,n){for(var s=[],i=n.getOrNode(),o=0;o<this.verdicts.length;o++){var u=this.verdicts[o].verdict,a=n.getSubTracer(this.referenceFunction),l=u.query(e,x.instance,i,a);s.push(...l)}var c=n.getObjectNode(x.instance,this.referenceFunction);return 1===this.verdicts.length?c.addChild(i.getChildren()[0]):c.addChild(i),r.addChild(c),s}}class pe extends he{query(e,t,r,n){for(var s=[],i=n.getAndNode(),o=0;o<this.verdicts.length;o++){var u=this.verdicts[o].verdict,a=n.getSubTracer(u),l=u.query(e,x.instance,i,a);s.push(...l)}var c=n.getObjectNode(x.instance,this.referenceFunction);return 1===this.verdicts.length?c.addChild(i.getChildren()[0]):c.addChild(i),r.addChild(c),s}}class fe extends ce{getQuantifierValue(e=[],t=[]){return 0===e.length?new pe(this,!0,t):new de(this,!1,e)}toString(){return"ForAll"}set(e,t){return new fe(this.variable,this.domain.set(e,t),this.phi.set(e,t))}}class ge extends ce{getQuantifierValue(e=[],t=[]){return t.length>0?new de(this,!0,t):new pe(this,!1,e)}toString(){return"Exists"}set(e,t){return new ge(this.variable,this.domain.set(e,t),this.phi.set(e,t))}}class ve extends C{constructor(e){super(1),this.name=e}compute(){var e,t=arguments[0].getValue();return e=t.isWrapper?this.getWrapperValue(t):this.get(t),new ye(this.name,arguments[0],e)}get(e){return null}getOwnerWindow(e){return e.ownerDocument.defaultView||e.ownerDocument.parentWindow}getElementComputedStyle(e){return this.getOwnerWindow(e).getComputedStyle(e)}getWrapperValue(e){for(let t=0;t<e.propertyNames.length;t++)if(e.propertyNames[t]==this.name)return e.propertyValues[t];var t=document.evaluate(e.path,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;return this.get(t)}}class me extends h{constructor(e){super(),this.name=e}toString(){return this.name}}class ye extends v{constructor(e,t,r){super(),this.name=e,this.input=v.lift(t),this.value=v.lift(r)}getValue(){return this.value.getValue()}toString(){return this.value.getValue().toString()}query(e,t,r,n){var s=[],i=g.create(new me(this.name),t),o=n.getObjectNode(i,this.input);return s.push(...this.input.query(e,i,o,n)),r.addChild(o),s}}class we extends ve{constructor(e,t=null){if(-1==["float","int","string",null].indexOf(t))throw new Error(`CssPropertyFunction returnType expects one of the following values: "float", "int", "string", null. Received ${t} instead.`);super(e),this.returnType=t}get(e){const t=this.getElementComputedStyle(e).getPropertyValue(this.name);switch(this.returnType){case"float":return parseFloat(t);case"int":return parseInt(t);case"string":return"string"==typeof t?t:t.toString()}return t}}class Ne extends ve{constructor(e,t=null,r=null){if(-1==["float","int","string",null].indexOf(t))throw new Error(`CssPropertyFunction returnType expects one of the following values: "float", "int", "string", null. Received ${t} instead.`);super(e),this.returnType=t,this.defaultValue=r}get(e){const t=this.getRecursive(e);switch(this.returnType){case"float":return parseFloat(t);case"int":return parseInt(t);case"string":return"string"==typeof t?t:t.toString()}return t}getRecursive(e){if(!e)return this.defaultValue;const t=this.getElementComputedStyle(e).getPropertyValue(this.name);return this.filter(t)?this.getRecursive(e.parentElement):t}filter(e){return""==e}}class xe extends ve{constructor(){super("width")}get(e){return e.offsetWidth}}class be extends ve{constructor(){super("height")}get(e){return e.offsetHeight}}class Ve extends ve{constructor(){super("pageOffsetTop")}get(e){return this.getOffsetTop(e)}getOffsetTop(e){return e?this.getOffsetTop(e.offsetParent)+e.offsetTop:0}}class Ce extends ve{constructor(){super("pageOffsetLeft")}get(e){return this.getOffsetLeft(e)}getOffsetLeft(e){return e?this.getOffsetLeft(e.offsetParent)+e.offsetLeft:0}}class Oe extends ve{constructor(){super("clientOffsetTop")}get(e){return e.getBoundingClientRect().top}}class Se extends ve{constructor(){super("clientOffsetLeft")}get(e){return e.getBoundingClientRect().left}}class _e extends we{constructor(){super("font-size")}}class Te extends we{constructor(){super("font-weight")}}class Fe extends we{constructor(){super("font-family")}}class Ae extends we{constructor(){super("color")}}class je extends we{constructor(){super("opacity","float")}}class Ee extends Ne{constructor(){super("background-color",null,"rgba(0, 0, 0, 0)")}filter(e){return""==e||"transparent"==e||"rgba(0, 0, 0, 0)"==e}}class qe extends we{constructor(){super("margin-top","float")}}class Pe extends we{constructor(){super("margin-bottom")}}class De extends we{constructor(){super("margin-left")}}class Ie extends we{constructor(){super("margin-right")}}class Re extends we{constructor(){super("padding-top")}}class Be extends we{constructor(){super("padding-bottom")}}class Le extends we{constructor(){super("padding-left")}}class We extends we{constructor(){super("padding-right")}}class ze extends we{constructor(){super("border-width")}}class $e extends we{constructor(){super("border-style")}}class ke extends we{constructor(){super("border-color")}}class Me extends we{constructor(){super("border-radius")}}class Qe extends we{constructor(){super("display")}}class Je extends we{constructor(){super("visibility")}}class Ge extends we{constructor(){super("position")}}class Ue extends we{constructor(){super("float")}}class He extends we{constructor(){super("background-image")}}class Ze extends Ne{constructor(){super("z-index","float",0)}filter(e){return""==e||"auto"==e}}class Ye extends h{constructor(e){super(),this.path=e}toString(){return this.path}}class Xe extends v{constructor(e,t,r){super(),this.value=v.lift(r),this.root=v.lift(t),this.path=e,this.members=[e,t,r]}query(e,t,r,n){var s=[],i=g.create(t.tail(),this.path),o=n.getObjectNode(i,this.root);return s.push(...this.root.query(e,i,o,n)),r.addChild(o),s}getValue(){return this.value.getValue()}toString(){return this.value.toString()}}class Ke extends Z{constructor(e){super(),this.selector=e,this.members=[e]}evaluate(){if(1!==arguments.length)throw"Invalid number of arguments";var e=v.lift(arguments[0]),t=e.getValue(),r=t.querySelectorAll(this.selector),n=[],s=[];for(let e=0;e<r.length;e++){var i=Ke.getPathTo(r[e]),o=new Xe(new Ye(i),t,r[e]);n.push(o)}for(let e=0;e<n.length;e++)s.push(new Y(e,n));return new O(this,s,e)}static getPathTo(e){if(""!==e.id)return'id("'+e.id+'")';if("BODY"===e.tagName)return"html/body";var t=0,r=e.parentNode.childNodes;for(let s=0;s<r.length;s++){var n=r[s];if(n===e)return this.getPathTo(e.parentNode)+"/"+e.tagName.toLowerCase()+"["+(t+1)+"]";1===n.nodeType&&n.tagName===e.tagName&&t++}}}class et{constructor(e,t,...r){this.isWrapper=!0,this.path=t,this.propertyNames=[],this.propertyValues=[];for(let t=0;t<r.length;t++)this.propertyNames[t]=r[t].name,this.propertyValues[t]=r[t].get(e)}}class tt extends C{constructor(){super(1)}getValue(){var e=arguments[0];if(!e.isWrapper)throw"CurrentNode : Invalid argument type";return document.evaluate(e.path,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}}class rt extends Z{constructor(e,...t){super(),this.selector=e,this.properties=t,this.members=[e,t]}evaluate(){if(1!==arguments.length)throw"Invalid number of arguments";var e=v.lift(arguments[0]),t=e.getValue(),r=t.querySelectorAll(this.selector),n=[],s=[];for(let e=0;e<r.length;e++){var i=Ke.getPathTo(r[e]),o=new et(r[e],i,...this.properties),u=new Xe(new Ye(i),t,o);n.push(u)}for(let e=0;e<n.length;e++)s.push(new Y(e,n));return new O(this,s,e)}}class nt{constructor(){}deserialize(t){return e[t.name].deserialize(this,t)}serialize(e){return e.toJson()}}function st(){return new K(new A(arguments.length),...arguments)}function it(){return new K(new j(arguments.length),...arguments)}function ot(e,t){return new K(new j,new K(new E,e),t)}function ut(){return new K(new E,arguments[0])}function at(){if(2==arguments.length)return new fe(arguments[0],new Z,arguments[1]);var e=arguments[1];return e instanceof N||(e=new V(e)),new fe(arguments[0],e,arguments[2])}function lt(){if(2==arguments.length)return new ge(arguments[0],new Z,arguments[1]);var e=arguments[1];return e instanceof N||(e=new V(e)),new ge(arguments[0],e,arguments[2])}function ct(){return 0==arguments.length?new J:2==arguments.length?new K(new J,arguments[0],arguments[1]):void 0}function ht(){return 0==arguments.length?new U:2==arguments.length?new K(new U,arguments[0],arguments[1]):void 0}function dt(){return 0==arguments.length?new LessThan:2==arguments.length?new K(new G,arguments[0],arguments[1]):void 0}function pt(){return 0==arguments.length?new H:2==arguments.length?new K(new H,arguments[0],arguments[1]):void 0}function ft(e){return new Ke(e)}function gt(e,...t){return new rt(e,...t)}function vt(e){return new K(new xe,e)}function mt(e){return new K(new be,e)}function yt(e,t){return new K(new z,e,t)}function wt(){return new K(new $(arguments.length),...arguments)}function Nt(){return new K(new k(arguments.length),...arguments)}function xt(e){return new K(new tt,e)}function bt(e,t=[]){for(var r=[],n=0;n<t.length;n++){var s=Vt(e,t[n]);null!=s&&r.push(s)}return r}function Vt(e,t){if(null===e)return null;const r=t.evaluate(e);return!0===r.value?null:Ct(new ae(r,t).getWitness())}function Ct(e=[]){const t=o.create();for(const r of e){const e=[];let n,s=null,i=null;if(l(r.getObject())){const e=r.getDesignator().elements;s=e[e.length-2].toString()||null,i=e[e.length-3].toString()||null,n="Path"}else s=r.getObject(),n="ConstantDesignator";for(const t of r.getDesignator().elements){if(t.constructor.name===n)break;e.push(t.toString())}t.insert({elementAttribute:i,part:e,subject:s})}return t}function Ot(e){var t=[],r=new nt;for(let n=0;n<e.length;n++)t.push(r.serialize(e[n]));return t}function St(e){var t=[],r=new nt;for(let n=0;n<e.length;n++)t.push(r.deserialize(e[n]));return t}})(),n})()}));
//# sourceMappingURL=index.umd.min.js.map